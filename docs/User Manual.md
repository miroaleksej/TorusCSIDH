# üìö –ú–∞–Ω—É–∞–ª –ø–æ –∑–∞–ø—É—Å–∫—É TorusCSIDH: –ü–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞

## üìå –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ—Ç –º–∞–Ω—É–∞–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—à–∞–≥–æ–≤—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∑–∞–ø—É—Å–∫—É **TorusCSIDH** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤–æ–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è Bitcoin, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ –∏–∑–æ–≥–µ–Ω–∏—è—Ö —Å—É–ø–µ—Ä—Å–∏–Ω–≥—É–ª—è—Ä–Ω—ã—Ö —ç–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫–∏—Ö –∫—Ä–∏–≤—ã—Ö. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –∞—Ç–∞–∫ –ø—Ä–∏ –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π Bitcoin —á–µ—Ä–µ–∑ soft fork.

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–û–°**: Ubuntu 20.04 –∏–ª–∏ –Ω–æ–≤–µ–µ, Debian 10+, –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è Linux-—Å–∏—Å—Ç–µ–º–∞
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä**: x86_64 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSE4.2 (Intel Nehalem –∏–ª–∏ –Ω–æ–≤–µ–µ, AMD Bulldozer –∏–ª–∏ –Ω–æ–≤–µ–µ)
- **–ü–∞–º—è—Ç—å**: 4 –ì–ë –û–ó–£ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 –ì–ë –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- **–ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ**: 1 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
# –î–ª—è Ubuntu/Debian
sudo apt update
sudo apt install -y build-essential cmake pkg-config \
    libgmp-dev libmpfr-dev libeigen3-dev libssl-dev \
    git wget curl doxygen graphviz
```

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone [https://github.com/miroaleksej/] https://github.com/miroaleksej/TorusCSIDH/tree/main/scr/toruscsidh.git
cd toruscsidh
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—É
chmod +x build.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏
./build.sh
```

–í—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```
===== –°–ë–û–†–ö–ê –ü–†–û–ï–ö–¢–ê TORUSCSIDH =====
–ó–∞–ø—É—Å–∫ CMake...
-- The C compiler identification is GNU 11.4.0
-- The CXX compiler identification is GNU 11.4.0
...
-- Found GMP: /usr/lib/x86_64-linux-gnu/libgmp.so  
-- Found MPFR: /usr/lib/x86_64-linux-gnu/libmpfr.so
-- Found Eigen3: /usr/include/eigen3 (found version "3.4.0")
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found version "3.0.2")
...
–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞...
[ 10%] Building CXX object CMakeFiles/toruscsidh.dir/src/math/big_integer.cpp.o
[ 20%] Building CXX object CMakeFiles/toruscsidh.dir/src/math/galois_field.cpp.o
...
[100%] Linking CXX executable toruscsidh

–°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –ø–æ–º–æ—â—å—é:
  ./build/toruscsidh
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
./build/toruscsidh --version
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
TorusCSIDH v1.0.0
–ü–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è Bitcoin
–°–æ–±—Ä–∞–Ω–æ: 2023-10-15 14:30:22
```

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

```bash
./run_tests.sh
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
===== –ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í TORUSCSIDH =====
===== –ù–ê–ß–ê–õ–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø TORUSCSIDH =====
–í—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
–ë–µ–∑ —É–ø—Ä–æ—â–µ–Ω–∏–π –∏ –∑–∞–≥–ª—É—à–µ–∫
==========================================

=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏ –ø–æ–ª—è –ì–∞–ª—É–∞ ===
–ü—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ p: 17861254705047191511050497450190155008001
5 + 7 = 12
5 - 7 = 1786125470504719151105049745019015500799
5 * 7 = 35
5 / 7 = 1275803907503370822217892675013582500572
4 —è–≤–ª—è–µ—Ç—Å—è –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—ã–º –≤—ã—á–µ—Ç–æ–º: –¥–∞
sqrt(4) = 2

=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫–æ–π –∫—Ä–∏–≤–æ–π ===
j-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç –±–∞–∑–æ–≤–æ–π –∫—Ä–∏–≤–æ–π: 8040
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Ç–æ—á–∫–∞ –ø–æ—Ä—è–¥–∫–∞ 2
2P: —Ç–æ—á–∫–∞ –Ω–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏
5P: –æ–±—ã—á–Ω–∞—è —Ç–æ—á–∫–∞

=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–≥–µ–Ω–∏–∏ ===
–ò–∑–æ–≥–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–∏ 2:
–ù–æ–≤–∞—è –∫—Ä–∏–≤–∞—è j-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç: 15028
–û–±—Ä–∞–∑ —Ç–æ—á–∫–∏: —Ç–æ—á–∫–∞ –Ω–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏

=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ ===
–†–∞–∑–º–µ—Ä –ø–æ–¥–≥—Ä–∞—Ñ–∞:
–í–µ—Ä—à–∏–Ω—ã: 12
–†–µ–±—Ä–∞: 28
–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ: 17
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏: 0.32
–≠–Ω—Ç—Ä–æ–ø–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–µ–π: 2.15
–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –õ–∞–ø–ª–∞—Å–∏–∞–Ω–∞: 0 0.12 0.25 0.85 1.2 
–û—Ü–µ–Ω–∫–∞ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤: 0.92
–ö—Ä–∏–≤–∞—è –≤–∞–ª–∏–¥–Ω–∞

=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ TorusCSIDH ===
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∫–ª—é—á–µ–≤–∞—è –ø–∞—Ä–∞:
–ê–¥—Ä–µ—Å: tcidh1q7m3x9v2k8r4n6p0s5t1u7w9y2a4c6e8g0j3l5n7p9r1t3v5x7z9b2d4f
–ü–æ–¥–ø–∏—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞:
–≠—Ñ–µ–º–µ—Ä–Ω—ã–π j-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç: 1a2b3c4d5e6f78901234567890abcdef1234567890abcdef1234567890...
–ü–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞

===== –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û =====
TorusCSIDH —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

```bash
cd build
ctest --verbose
```

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä—ã

```bash
./build/toruscsidh generate-key
```

–í—ã–≤–æ–¥:
```
–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (hex): 3a7f9c2d... (58 —á–∏—Å–µ–ª –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [-5, 5])
–ü—É–±–ª–∏—á–Ω–∞—è –∫—Ä–∏–≤–∞—è j-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç: 1a2b3c4d5e6f78901234567890abcdef1234567890abcdef1234567890abcdef
–ê–¥—Ä–µ—Å: tcidh1q7m3x9v2k8r4n6p0s5t1u7w9y2a4c6e8g0j3l5n7p9r1t3v5x7z9b2d4f
```

### –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
echo '{"inputs": [{"txid": "a1b2c3...", "vout": 0}], "outputs": [{"address": "tcidh1...", "value": 0.5}]}' > transaction.json

# –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
./build/toruscsidh sign --key private_key.hex --transaction transaction.json --output signed_transaction.json
```

–í—ã–≤–æ–¥:
```
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å–∞–Ω–∞!
–≠—Ñ–µ–º–µ—Ä–Ω—ã–π j-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç: 8a7b6c5d...
–•–µ—à –ø–æ–¥–ø–∏—Å–∏: sha3-256:...
–ü–æ–¥–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ signed_transaction.json
```

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏

```bash
./build/toruscsidh verify --transaction transaction.json --signature signed_transaction.json
```

–í—ã–≤–æ–¥:
```
–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞ (–æ—Ü–µ–Ω–∫–∞: 0.92)
–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ —É—Å–ø–µ—à–Ω–∞!
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ —Å–µ—Ç—å Bitcoin
```

---

## üê≥ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ä–µ–¥—É, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker:

### –®–∞–≥ 1: –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

```bash
docker build -t toruscsidh .
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -it --rm toruscsidh
```

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ docker-compose

```bash
docker-compose up
```

---

## üìö –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–î–ª—è –∏–∑—É—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã –≤—ã –º–æ–∂–µ—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
./build.sh doc

# –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ
xdg-open doc/html/index.html
```

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API
- –î–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤ –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

---

## üõ†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitcoin

### –°–æ–∑–¥–∞–Ω–∏–µ –≥–∏–±—Ä–∏–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å Taproot
./build/toruscsidh create-hybrid-tx \
    --input "previous_txid:vout" \
    --output "tcidh1...:0.5" \
    --change "your_address:remaining" \
    --key private_key.hex \
    --output hybrid_tx.json
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Bitcoin Core

```bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –ø–æ–Ω—è—Ç–Ω–æ–º Bitcoin Core
./build/toruscsidh export-pubkey --key private_key.hex --format taproot > pubkey.txt

# –°–æ–∑–¥–∞—Ç—å —Å—ã—Ä–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
bitcoin-cli createrawtransaction '[{"txid":"previous_txid","vout":0}]' '{"address":0.5}'

# –î–æ–±–∞–≤–∏—Ç—å TorusCSIDH –ø–æ–¥–ø–∏—Å—å
./build/toruscsidh add-signature --tx raw_tx.hex --signature signed_tx.json --output final_tx.hex

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
bitcoin-cli sendrawtransaction final_tx.hex
```

---

## ‚ö†Ô∏è –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å GMP

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:
```
CMake Error at CMakeLists.txt:15 (find_package):
  By not providing "FindGMP.cmake" in CMAKE_MODULE_PATH this project has
  asked CMake to find a package configuration file provided by "GMP", but
  CMake did not find one.
```

**–†–µ—à–µ–Ω–∏–µ**:
```bash
sudo apt install libgmp-dev
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –ø–æ–¥–≥—Ä–∞—Ñ–∞

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:
```
std::bad_alloc
```

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `--memory-limit`:
   ```bash
   ./build/toruscsidh sign --memory-limit 2G ...
   ```
3. –î–ª—è —Å–ª–∞–±—ã—Ö —Å–∏—Å—Ç–µ–º —É–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–¥–∏—É—Å –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
   ```bash
   ./build/toruscsidh sign --geometric-radius 1 ...
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

**–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**:
```
–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ (–æ—Ü–µ–Ω–∫–∞: 0.78)
```

**–†–µ—à–µ–Ω–∏–µ**:
1. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —ç—Ñ–µ–º–µ—Ä–Ω—ã–π –∫–ª—é—á (–æ–±—ã—á–Ω–æ 1-3 –ø–æ–ø—ã—Ç–∫–∏)
2. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   ```bash
   ./build/toruscsidh check-geometry --j-invariant your_j_invariant
   ```
3. –í —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–¥–∏—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:
   ```bash
   ./build/toruscsidh sign --geometric-radius 3 ...
   ```

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
./build/toruscsidh benchmark
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ë–ï–ù–ß–ú–ê–†–ö–ê =====
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä—ã: 48.2 –º—Å (—Ü–µ–ª—å: < 60 –º—Å)
–ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: 92.7 –º—Å (—Ü–µ–ª—å: < 100 –º—Å)
–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏: 63.5 –º—Å (—Ü–µ–ª—å: < 70 –º—Å)
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: 48.7 MB (—Ü–µ–ª—å: < 60 MB)
================================
–í—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏–∑–æ–≥–µ–Ω–∏–π**:
   ```bash
   ./build/toruscsidh precompute-isogenies --output isogeny_cache.bin
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è**:
   ```bash
   ./build/toruscsidh optimize --auto-detect
   ```

3. **–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   ```bash
   ./build/toruscsidh sign --performance-mode high --transaction
